# Лабораторная работа 4. Выполнил Шутов С.А.

## 1. Условие

**Типы полей:** `unsigned int rubles_`, `short kopeks_`.

### Требуется реализовать:

- **Вычитание** переменной типа `Money` (результат не может быть отрицательным; возвращает `Money`).
- **Унарные операции:** `++` (добавление 1 копейки) и `--` (вычитание 1 копейки).
- **Приведение типов:**
  - `operator unsigned int()` — неявное: количество рублей (копейки отбрасываются).
  - `explicit operator double()` — явное: дробная часть в рублях (`kopeks / 100.0`), результат < 1.
- **Бинарные операции:**
  - `Money operator+(const Money&)` и `Money operator+(unsigned int)` (результат — `Money`).
  - `Money operator-(const Money&)` и `Money operator-(unsigned int)` (результат — `Money`, неотрицательный).
- **Проверка входных данных:** рубли >= 0, копейки >= 0 (копейки могут быть >= 100 — нормализация выполняется классом).


## 2. Структура проекта (файлы)

- `Money.h` — заголовочный файл с объявлением класса `Money`.
- `Money.cpp` — реализация класса (конструкторы, Normalize, перегрузки операторов, приватные вспомогательные функции).
- `main.cpp` — интерфейс ввода/вывода, функция `ReadMoney()` и демонстрация всех операций в `main()`.


## 3. Описание класса Money
**Поля (private)**:
- rubles_ — рубли (тип unsigned int)
- kopeks_ — копейки (тип short)

**Конструкторы**:

- Конструктор по умолчанию: инициализирует объект с 0 рублей и 0 копеек
- Конструктор с параметрами: принимает рубли и копейки, выполняет нормализацию
- Явный конструктор: принимает общее количество копеек, преобразует в рубли и копейки

**Методы**:

- GetRubles(), GetKopeks() — возвращают значения полей
- Normalize() — нормализует значение (переводит избыток копеек в рубли)
- ToTotalKopeks() — возвращает общее количество копеек
- FromTotalKopeks() — создает объект из общего количества копеек
- Перегрузка оператора << — форматированный вывод объекта

## 4. Алгоритм работы кода:

**Вычитание переменной типа Money**:

- При вычитании объекты преобразуются в общее количество копеек
- Если уменьшаемое меньше вычитаемого, возвращается объект с нулевым значением
- Результат преобразуется обратно в рубли и копейки с нормализацией

**Унарные операции**:

- operator++() (префиксный): увеличивает количество копеек на 1 с последующей нормализацией
- operator++(int) (постфиксный): сохраняет старое значение, затем увеличивает на 1 копейку
- operator--() (префиксный): уменьшает количество копеек на 1, но не ниже 0
- operator--(int) (постфиксный): сохраняет старое значение, затем уменьшает на 1 копейку

**Операции приведения типа**:

- operator unsigned int() (неявное): возвращает количество рублей, копейки отбрасываются
- operator double() (явное): возвращает копейки, переведенные в рубли (результат < 1)

**Бинарные операции**:

- Сложение с другим объектом Money: суммы преобразуются в копейки, складываются, результат нормализуется
- Сложение с целым числом (рубли): число конвертируется в копейки, выполняется сложение
- Вычитание: аналогично сложению, но с проверкой на неотрицательность результата

**Ввод данных**:

- Функция ReadMoney() запрашивает у пользователя рубли и копейки
- Проверяет корректность ввода (неотрицательные значения)
- При ошибке очищает поток ввода и запрашивает данные повторно
- Возвращает объект типа Money

## 5. Демонстрация работы

<img width="487" height="371" alt="image" src="https://github.com/user-attachments/assets/b432d91e-81a2-4a65-8d3b-cfafcb8200b6" />




